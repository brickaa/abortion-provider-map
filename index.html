<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">
    <title>test</title>

    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.css' rel='stylesheet' />

    <style>
      body { margin:0; padding:0; }
      #map { position:absolute; top:0; bottom:0; width:75%; height:700px;}
      .legend {
        font-family: "HelveticaNeue-Light";
        }
      .popup {
        font-family: "HelveticaNeue-Light";
        }
    </style>

</head>
<body>
<div>

 <div id='map'></div> 

<div id='legend-content' style='display: none;'>
  <div class='legend'>
  Oh hey, I'm a legend.
  </div>
</div>
<script type="text/javascript" src="OpenAbortionFacilities1.js"></script>
<script>


//Add the background map layer
// L.mapbox.map(element, id|url|tilejson, options)
var map = L.mapbox.map('map', 'texastribune.map-4xwafpgp', {
    minZoom: 5,
    maxZoom: 10,
    zoomControl: true
}).setView([31.35, -99.64], 6);
// Set the latitude and longitude of the map's starting view, and zoom level

function onEachFeature(feature, layer) {
  var popupContent = "<p>" + feature.properties.Name + "</p>";

  if (feature.properties && feature.properties.popupContent) {
    popupContent += feature.properties.popupContent;
  }

  layer.bindPopup(popupContent);
}

var myStyle = {
  radius: 5,
  color: "#fcc10f",
  fillColor: "#fcc10f",
  weight: 2,
  opacity: 1,
  fillOpacity: 0.5
      // if (feature.properties["ASC"] = 0) {
      //   return {fillColor: "#fcc10f"}
      // } else {
      //   return {fillColor: "#44abdf"}
      // }
};

L.geoJson(geojson, {
  pointToLayer: function(feature, properties) {
    return L.circleMarker(properties, myStyle)
  },
  onEachFeature: onEachFeature

  }).addTo(map);


// Add your legend
map.legendControl.addLegend(document.getElementById('legend-content').innerHTML);



</script>

</body>
</html>